<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>WHACK-A-WAVE - Control the Pandemic</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0a0a1a" />
  <meta name="description"
    content="An arcade game about controlling the basic reproduction number. Manage pandemic waves by deploying public-health interventions across multiple regions." />
  <style>
    :root {
      color-scheme: dark;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      margin: 0;
      background: #030712;
      overflow: hidden;
      font-family: monospace;
    }

    body.mobile {
      padding-top: env(safe-area-inset-top);
    }

    /* Phaser mount target - ON TOP */
    #app {
      position: fixed;
      inset: 0;
      width: 100dvw;
      height: 100dvh;
      /* background: #0a0a1a;  <-- REMOVED to let background show */
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
      /* Above background */
      pointer-events: none;
      /* Let clicks pass through to background controls unless on game UI */
    }

    #app>canvas {
      pointer-events: auto;
      /* Re-enable clicks on the game canvas */
    }

    #app canvas,
    body>canvas {
      display: block;
      /* position: absolute;  <-- Removed to allow centering */
    }
  </style>

  <link rel="stylesheet" href="src/style.css">

  <!-- Import Map for Modules -->
  <script type="importmap">
      {
        "imports": {
          "three": "https://esm.sh/three@0.178.0"
        }
      }
    </script>
</head>

<body>
  <!-- 3D Background UI Structure -->
  <section class="section hero-section" id="background-ui" style="display:none;">
    <div id="container"></div>
    <div id="ui-container"></div>
  </section>

  <div id="app"></div>

  <!-- Phaser -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.90.0/dist/phaser.min.js" crossorigin="anonymous"></script>

  <!-- Game entry -->
  <script type="module" src="src/main.js?v=1"></script>
</body>

</html>